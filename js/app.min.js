function currentTimeOutput(e){return e%60>=10?`${Math.trunc(e/60)}:${e%60}`:`${Math.trunc(e/60)}:0${e%60}`}let players=document.querySelectorAll(".beat__player");players.forEach((e=>{const t=e.querySelector(".audio"),r=e.querySelector(".timeline__input"),u=e.querySelector(".time__current"),n=e.querySelector(".time__full"),a=e.querySelector(".play-pause");function o(){Math.round(t.duration)%60>=10?n.textContent=`${Math.trunc(Math.round(t.duration)/60)}:${Math.round(t.duration)%60}`:n.textContent=`${Math.trunc(Math.round(t.duration)/60)}:0${Math.round(t.duration)%60}`,r.max=Math.round(t.duration)}console.log(`${t.duration} before event`),NaN!==t.duration&&o(),t.addEventListener("loadedmetadata",(()=>{console.log(`${t.duration} after event`),o()})),t.addEventListener("ended",(()=>{a.setAttribute("id","paused"),t.currentTime=0})),a.addEventListener("click",(()=>{t.paused?(a.setAttribute("id","playing"),t.play()):(t.pause(),a.setAttribute("id","paused")),setInterval((()=>{u.textContent=currentTimeOutput(Math.round(t.currentTime)),r.value=Math.round(t.currentTime)}),10)})),r.addEventListener("input",(()=>{u.textContent=currentTimeOutput(r.value),t.currentTime=r.value}))})),document.addEventListener("play",(e=>{for(let t=0;t<players.length;t++){const r=players[t].querySelector(".audio"),u=players[t].querySelector(".play-pause");r!=e.target&&(u.setAttribute("id","paused"),r.pause(),r.currentTime=0)}}),!0);