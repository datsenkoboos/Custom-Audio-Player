(function(){"use strict";var e={741:function(e,t,n){var a=n(963),l=n(252),u=n(262),o=n(577);const r=["onMousedown"];var i={__name:"CustomRange",props:{max:Number,value:Number,mode:String},emits:["changeValue"],setup(e,{emit:t}){const n=e,o=(0,u.iH)(null),i=(0,u.iH)(null),s=(0,u.iH)(null),c=(0,u.iH)(n.value);let v;function f(e){let a=(e*v).toFixed(0);a>n.max&&(a=n.max),c.value=a,"live"===n.mode&&t("changeValue",c.value)}function d(e,t){if(v=+(n.max/o.value.clientWidth).toFixed(2),void 0!==t)return s.value.style.width=Math.ceil(t/v)+"px",void(i.value.style.left=Math.ceil(t/v)-i.value.offsetWidth/2+"px");let a=e.clientX-o.value.getBoundingClientRect().left-i.value.offsetWidth/2,l=o.value.clientWidth-i.value.offsetWidth/2;a<-i.value.offsetWidth/2&&(a=-i.value.offsetWidth/2),a>l&&(a=l),s.value.style.width=a+i.value.offsetWidth/2+"px",i.value.style.left=a+"px",f(a+i.value.offsetWidth/2)}function m(e){function n(){t("changeValue",c.value),document.removeEventListener("mouseup",n),document.removeEventListener("mousemove",d)}d(e),document.addEventListener("mousemove",d),document.addEventListener("mouseup",n)}return(0,l.bv)((()=>{o.value.style.marginInline=i.value.offsetWidth/2+"px",i.value.style.left=-i.value.offsetWidth/2+"px",v=+(n.max/o.value.clientWidth).toFixed(2)})),(0,l.YP)((()=>n.value),((e,a)=>{if(e!==a)return e>n.max?(t("changeValue",c.value=0),void d(null,c.value)):void d(null,e)})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",{ref_key:"range",ref:o,class:"custom-range",onMousedown:(0,a.iM)(m,["prevent"])},[(0,l._)("div",{ref_key:"beforethumb",ref:s,class:"beforethumb"},null,512),(0,l._)("div",{ref_key:"thumb",ref:i,class:"thumb"},null,512)],40,r))}};const s=i;var c=s;const v={title:"loading",class:"shimmer"};function f(e,t,n,a,u,o){return(0,l.wg)(),(0,l.iD)("div",v,[(0,l.WI)(e.$slots,"default")])}var d={name:"LoadingShimmer"},m=n(744);const p=(0,m.Z)(d,[["render",f]]);var h=p;const g={class:"player"},y=["src"],b={key:0,class:"player-controls"},_={class:"time"},w={class:"time-current"},x=(0,l._)("span",{class:"time-separator"}," / ",-1),k={class:"time-full"},W={class:"download"},M=["href"];var O={__name:"BeatstorePlayer",props:{mp3:String,wav:String},setup(e){const t=e,n=(0,u.iH)(0),a=(0,u.iH)(0),r=(0,u.iH)(!1),i=new Audio(t.mp3);function s(){n.value=Math.ceil(i.duration),a.value=i.currentTime}function v(e){return e%60>=10?`${Math.trunc(e/60)}:${e%60}`:`${Math.trunc(e/60)}:0${e%60}`}const f=(0,l.Fl)((()=>v(a.value))),d=(0,l.Fl)((()=>v(n.value)));function m(e){a.value=i.currentTime=+e}function p(){r.value=!r.value}return(0,l.YP)(r,((e,t)=>{let a;if(e)return i.play(),void(a=setInterval((()=>{Math.ceil(i.currentTime)===n.value&&(m(0),p(),clearInterval(a)),m(Math.ceil(i.currentTime))}),1e3));clearInterval(a),i.pause()})),(t,v)=>((0,l.wg)(),(0,l.iD)("div",g,[(0,l._)("audio",{ref_key:"audio",ref:i,src:e.mp3,class:"audio",preload:"metadata",onLoadedmetadata:s},null,40,y),n.value?((0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("button",{class:(0,o.C_)("play-pause-button "+(r.value?"pause":"")),onClick:p},null,2),(0,l.Wm)(c,{max:n.value-1,value:a.value,mode:"live",onChangeValue:m,class:"timeline"},null,8,["max","value"]),(0,l._)("div",_,[(0,l._)("span",w,(0,o.zw)((0,u.SU)(f)),1),x,(0,l._)("span",k,(0,o.zw)((0,u.SU)(d)),1)]),(0,l._)("div",W,[(0,l._)("a",{href:e.wav,download:"",class:"download-link"},null,8,M)])])):((0,l.wg)(),(0,l.j4)(h,{key:1,class:"beat-shimmer player-placeholder"}))]))}};const j=O;var C=j,P={__name:"App",setup(e){document.addEventListener("play",(e=>{console.log(1),console.log(e.target)}));const t="/Custom-Audio-Player/";return(e,n)=>((0,l.wg)(),(0,l.j4)(C,{mp3:`${(0,u.SU)(t)}audio/10TD_s1kebeats_140BPM.mp3`,wav:`${(0,u.SU)(t)}audio/10TD_s1kebeats_140BPM.mp3`},null,8,["mp3","wav"]))}};const S=P;var T=S;(0,a.ri)(T).mount("#app")}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var u=t[a]={exports:{}};return e[a](u,u.exports,n),u.exports}n.m=e,function(){var e=[];n.O=function(t,a,l,u){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],l=e[c][1],u=e[c][2];for(var r=!0,i=0;i<a.length;i++)(!1&u||o>=u)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(r=!1,u<o&&(o=u));if(r){e.splice(c--,1);var s=l();void 0!==s&&(t=s)}}return t}u=u||0;for(var c=e.length;c>0&&e[c-1][2]>u;c--)e[c]=e[c-1];e[c]=[a,l,u]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,u,o=a[0],r=a[1],i=a[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(i)var c=i(n)}for(t&&t(a);s<o.length;s++)u=o[s],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return n.O(c)},a=self["webpackChunkbeatstore_audio_player"]=self["webpackChunkbeatstore_audio_player"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(741)}));a=n.O(a)})();
//# sourceMappingURL=app.b53a2e78.js.map